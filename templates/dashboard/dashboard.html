{% extends 'base.html' %}
{% block content %}
<div class="container-fluid">
    <h1 class="mb-4">Dashboard</h1>
    
    <!-- Summary Cards -->
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card bg-primary text-white">
                <div class="card-body">
                    <h5 class="card-title">Total Templates</h5>
                    <p class="card-text display-4">{{ templates.count }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-success text-white">
                <div class="card-body">
                    <h5 class="card-title">Active Brands</h5>
                    <p class="card-text display-4">{{ brands.count }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-info text-white">
                <div class="card-body">
                    <h5 class="card-title">Total Agents</h5>
                    <p class="card-text display-4">{{ agents.count }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Widgets for Template Statuses -->
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card bg-warning text-white">
                <div class="card-body">
                    <h5 class="card-title">Pending Templates</h5>
                    <p class="card-text display-4">{{ pending_count }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-success text-white">
                <div class="card-body">
                    <h5 class="card-title">Approved by L1</h5>
                    <p class="card-text display-4">{{ approved_l1_count }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-success text-white">
                <div class="card-body">
                    <h5 class="card-title">Approved by L2</h5>
                    <p class="card-text display-4">{{ approved_l2_count }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card bg-danger text-white">
                <div class="card-body">
                    <h5 class="card-title">Rejected by L1</h5>
                    <p class="card-text display-4">{{ rejected_l1_count }}</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-danger text-white">
                <div class="card-body">
                    <h5 class="card-title">Rejected by L2</h5>
                    <p class="card-text display-4">{{ rejected_l2_count }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Context Message -->
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Welcome to the RBM Portal</h5>
            <p class="card-text">
                You can create, manage Brands, Agents, and Templates in this portal. 
                You can set up keywords for the take auto action on templates.
            </p>
        </div>
    </div>
</div>
{% endblock %}
